{% extends "base.html" %}

{% block content %}

<!-- Hero SECTION -->
<div class="hero-content">
    <h1 class="hero-title">{{ data.name }}</h1>
    <p class="hero-description">{{ data.hero_description }}</p>
    
    <div class="hero-contact">
        <span>üìç Burnaby, BC</span>
        <!-- <span class="separator">‚Ä¢</span>
        <span> {{ data.email }} </span> -->
        <span class="separator">‚Ä¢</span>
        <a href="{{ data.github }}" target="_blank">GitHub</a>
        <span class="separator">‚Ä¢</span>
        <a href="{{ data.linkedin }}" target="_blank">LinkedIn</a>
    </div>
</div>

<!-- Experience SECTION -->
<div class="section" id="experience">
    <h1 class="section-title">Experience</h1>
    
    <h2 class="section-subtitle">Work</h2>
    <div class="timeline-group">
        {% for internship in data.internships %}
        <div class="timeline-item">
            <h3>{{ internship.title }}, {{ internship.company }}</h3>
            <span class="meta">üìÖ {{ internship.date }}</span>
            <p>{{ internship.description }}</p>
            <div class="tags">
                {% if internship.tech %}
                    üõ†Ô∏è
                    {% for tech in internship.tech %}
                        <span>{{ tech }}{% if not loop.last %}, {% endif %}</span>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    
    <h2 class="section-subtitle">Education</h2>
    <div class="timeline-group">
        {% for edu in data.education %}
        <div class="timeline-item">
            <h3>{{ edu.degree }}, {{ edu.school }}</h3>
            <span class="meta">üìÖ {{ edu.date }}</span>
            <p>{{ edu.description }}</p>
        </div>
        {% endfor %}
    </div>

    <h2 class="section-subtitle">Volunteering</h2>
    <div class="timeline-group">
        {% for vol in data.volunteering %}
        <div class="timeline-item">
            <h3>{{ vol.title }}, {{ vol.company }}</h3>
            <span class="meta">üìÖ {{ vol.date }}</span>
            <p>{{ vol.description }}</p>
            <div class="tags">
            {% if vol.tech %}
                üõ†Ô∏è
                {% for tech in vol.tech %}
                    <span>{{ tech }}{% if not loop.last %}, {% endif %}</span>
                {% endfor %}
            {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Projects SECTION -->
<div class="section" id="projects">
    <h1 class="section-title">Projects</h1>
    <div class="timeline-group project-list">
        {% for project in data.projects %}
        <div class="timeline-item">
            <div>
                <h3>{{ project.title }}</h3>
                <p>{{ project.description }}</p>
                <div class="meta">
                    <a href="{{ project.github }}" target="_blank">GitHub</a>
                    {% if project.website %}
                    <span class="separator">‚Ä¢</span>
                    <a href="{{ project.website }}" target="_blank">Website</a>
                    {% endif %}
                </div>
                <div class="tags">
                {% if project.tech %}
                    üõ†Ô∏è
                    {% for tech in project.tech %}
                        <span>{{ tech }}{% if not loop.last %}, {% endif %}</span>
                    {% endfor %}
                {% endif %}
                </div>
            </div>
            {% if project.demo %}
                <div class="project-media">
                    <img src="{{ project.demo }}" alt="{{ project.title }} demo" onclick="openModal(this)">
                </div>
            {% endif %}
        </div>
        {% endfor %}

        <!-- Move the modal OUTSIDE the loop -->
        <div id="imgModal" class="img-modal" onclick="closeModal()">
            <img id="modalImg" class="img-modal-content" alt="">
        </div>

    </div>
</div>

<script>
function openModal(img) {
    const modal = document.getElementById('imgModal');
    const modalImg = document.getElementById('modalImg');
    modal.style.display = 'block';
    modalImg.src = img.src;
}
function closeModal() {
    document.getElementById('imgModal').style.display = 'none';
}
</script>

{% endblock %}